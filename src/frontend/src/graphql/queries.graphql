query GetReferenceLetter($id: ID!) {
  referenceLetter(id: $id) {
    id
    title
    authorName
    authorTitle
    organization
    dateWritten
    rawText
    extractedData {
      author {
        name
        title
        company
        relationship
      }
      testimonials {
        quote
        skillsMentioned
      }
      skillMentions {
        skill
        quote
        context
      }
      experienceMentions {
        company
        role
        quote
      }
      discoveredSkills
      metadata {
        extractedAt
        modelVersion
        processingTimeMs
      }
    }
    status
    createdAt
    updatedAt
    user {
      id
      email
      name
    }
    file {
      id
      filename
      contentType
      sizeBytes
    }
  }
}

query GetReferenceLetters($userId: ID!) {
  referenceLetters(userId: $userId) {
    id
    title
    authorName
    authorTitle
    organization
    status
    createdAt
  }
}

query GetReferenceLetterStatus($id: ID!) {
  referenceLetter(id: $id) {
    id
    status
  }
}

query GetUser($id: ID!) {
  user(id: $id) {
    id
    email
    name
    createdAt
    updatedAt
  }
}

query GetFiles($userId: ID!) {
  files(userId: $userId) {
    id
    filename
    contentType
    sizeBytes
    storageKey
    createdAt
  }
}

query GetResume($id: ID!) {
  resume(id: $id) {
    id
    status
    extractedData {
      name
      email
      phone
      location
      summary
      extractedAt
      confidence
    }
    errorMessage
    createdAt
    updatedAt
    user {
      id
      email
      name
    }
    file {
      id
      filename
      contentType
    }
  }
}

query GetUserResumes($userId: ID!) {
  resumes(userId: $userId) {
    id
    status
  }
}

query GetProfile($userId: ID!) {
  profile(userId: $userId) {
    id
    experiences {
      id
      company
      title
      location
      startDate
      endDate
      isCurrent
      description
      highlights
      displayOrder
      source
      createdAt
      updatedAt
    }
    educations {
      id
      institution
      degree
      field
      startDate
      endDate
      isCurrent
      description
      gpa
      displayOrder
      source
      createdAt
      updatedAt
    }
    skills {
      id
      name
      normalizedName
      category
      displayOrder
      source
      createdAt
      updatedAt
    }
    createdAt
    updatedAt
  }
}
