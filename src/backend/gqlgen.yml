# gqlgen configuration
# See https://gqlgen.com/config/ for documentation

schema:
  - internal/graphql/schema/*.graphqls

exec:
  filename: internal/graphql/generated/generated.go
  package: generated

model:
  filename: internal/graphql/model/models_gen.go
  package: model

resolver:
  layout: follow-schema
  dir: internal/graphql/resolver
  package: resolver
  filename_template: "{name}.resolvers.go"

# Map GraphQL scalars to Go types
models:
  ID:
    model:
      - github.com/99designs/gqlgen/graphql.ID
  DateTime:
    model:
      - github.com/99designs/gqlgen/graphql.Time
  JSON:
    model:
      - github.com/99designs/gqlgen/graphql.Map
  Upload:
    model:
      - github.com/99designs/gqlgen/graphql.Upload

  # Extraction enums - map to domain constants
  AuthorRelationship:
    model:
      - backend/internal/domain.AuthorRelationship
  SkillCategory:
    model:
      - backend/internal/domain.SkillCategory

  # Extraction types - map to GraphQL model types
  ExtractedLetterData:
    model:
      - backend/internal/graphql/model.ExtractedLetterData
  ExtractedAuthor:
    model:
      - backend/internal/graphql/model.ExtractedAuthor
  ExtractedTestimonial:
    model:
      - backend/internal/graphql/model.ExtractedTestimonial
  ExtractedSkillMention:
    model:
      - backend/internal/graphql/model.ExtractedSkillMention
  ExtractedExperienceMention:
    model:
      - backend/internal/graphql/model.ExtractedExperienceMention
  ExtractionMetadata:
    model:
      - backend/internal/graphql/model.ExtractionMetadata

  # Field resolvers for computed fields
  File:
    fields:
      url:
        resolver: true
  ProfileSkill:
    fields:
      validationCount:
        resolver: true
  ProfileExperience:
    fields:
      validationCount:
        resolver: true
  Testimonial:
    fields:
      referenceLetter:
        resolver: true

  # Field resolvers for validation types
  SkillValidation:
    fields:
      skill:
        resolver: true
      referenceLetter:
        resolver: true
  ExperienceValidation:
    fields:
      experience:
        resolver: true
      referenceLetter:
        resolver: true
